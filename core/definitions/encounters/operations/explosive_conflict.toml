# Explosive Conflict
# 4 bosses

[area]
name = "Explosive Conflict"
area_id = 833571547775688

# ═══════════════════════════════════════════════════════════════════════════════
# Zorn & Toth
# ═══════════════════════════════════════════════════════════════════════════════
[[boss]]
id = "zorn_toth"
name = "Zorn & Toth"
difficulties = ["veteran", "master"]

[[boss.entities]]
name = "Zorn"
ids = [
  2788331423268864,
  2860770341683200,
  2861388816973824,
  3725115330134016,
  2857544821243904,
]
is_boss = true
is_kill_target = true

[[boss.entities]]
name = "Toth"
ids = [
  2788335718236160,
  2453173650325504,
  2860766046715904,
  2861384522006528,
  285754911621120,
]
is_boss = true
is_kill_target = true

[[boss.phases]]
id = "zt_main"
name = "Main"
trigger = { type = "combat_start" }

# -- Timers --
[[boss.timer]]
id = "zt_shriek"
name = "Shriek"
trigger = { type = "ability_cast", abilities = [2857132504383488] }
duration_secs = 45
color = [219, 100, 32, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_baradium_heave"
name = "Baradium Heave"
trigger = { type = "effect_applied", effects = [2857300008108306] }
duration_secs = 13
color = [219, 34, 32, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_ground_shatter"
name = "Ground Shatter"
trigger = { type = "effect_applied", effects = [2857368727584768] }
duration_secs = 20
color = [224, 24, 24, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_smash"
name = "Smash"
trigger = { type = "ability_cast", abilities = [2917463909990400] }
duration_secs = 15
color = [32, 219, 215, 255]
difficulties = ["veteran", "master"]

# -- Alerts (effects on local player) --
[[boss.timer]]
id = "zt_baradium_poisoning"
name = "Baradium Poisoning"
is_alert = true
trigger = { type = "effect_applied", effects = [
  3004561551786240,
], target = "local_player" }
alert_text = "Use Medpack!"
difficulties = ["master"]

[[boss.timer]]
id = "zt_weakened"
name = "Weakened"
is_alert = true
trigger = { type = "effect_applied", effects = [
  2857132504383753,
], target = "local_player" }
alert_text = "Weakened"
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_fearful"
name = "Fearful"
is_alert = true
trigger = { type = "effect_applied", effects = [
  2857171159089412,
], target = "local_player" }
alert_text = "Fearful"
difficulties = ["veteran", "master"]

# -- HP Threshold Alerts (Toth) --
[[boss.timer]]
id = "zt_jump"
name = "Jump"
is_alert = true
trigger = { type = "any_of", conditions = [
  { type = "boss_hp_below", hp_percent = 90.0, selector = [
    "Toth",
  ] },
  { type = "boss_hp_below", hp_percent = 70.0, selector = [
    "Toth",
  ] },
  { type = "boss_hp_below", hp_percent = 50.0, selector = [
    "Toth",
  ] },
  { type = "boss_hp_below", hp_percent = 30.0, selector = [
    "Toth",
  ] },
  { type = "boss_hp_below", hp_percent = 10.0, selector = [
    "Toth",
  ] },
] }
alert_text = "Jump"
color = [130, 33, 224, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_frenzy"
name = "Frenzy"
is_alert = true
trigger = { type = "any_of", conditions = [
  { type = "boss_hp_below", hp_percent = 80.0, selector = [
    "Toth",
  ] },
  { type = "boss_hp_below", hp_percent = 40.0, selector = [
    "Toth",
  ] },
] }
alert_text = "Frenzy"
color = [214, 164, 19, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_shatter"
name = "Shatter + Sonic"
is_alert = true
trigger = { type = "any_of", conditions = [
  { type = "boss_hp_below", hp_percent = 60.0, selector = [
    "Toth",
  ] },
  { type = "boss_hp_below", hp_percent = 20.0, selector = [
    "Toth",
  ] },
] }
alert_text = "Shatter + Sonic"
color = [219, 36, 28, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "zt_soft_enrage"
name = "Soft Enrage"
is_alert = true
trigger = { type = "boss_hp_below", hp_percent = 5.0, selector = ["Toth"] }
alert_text = "Soft Enrage"
color = [219, 31, 28, 255]
difficulties = ["veteran", "master"]

# ═══════════════════════════════════════════════════════════════════════════════
# Firebrand & Stormcaller
# ═══════════════════════════════════════════════════════════════════════════════
[[boss]]
id = "firebrand_stormcaller"
name = "Firebrand & Stormcaller"
difficulties = ["veteran", "master"]

[[boss.entities]]
name = "Firebrand"
ids = [2876434087411712, 2876459857215488, 2876481332051968, 2808827007205376]
is_boss = true
is_kill_target = true

[[boss.entities]]
name = "Stormcaller"
ids = [2876438382379008, 2876464152182784, 2876485627019264, 2808831302172672]
is_boss = true
is_kill_target = true

[[boss.counters]]
id = "fs_defensive_systems_ct"
name = "Defensive Systems"
increment_on = { type = "phase_ended", phase_id = "fs_shield" }
reset_on = { type = "combat_end" }
initial_value = 0

# -- Phases --
[[boss.phases]]
id = "fs_tanks"
name = "Tanks"
counter_condition = { counter_id = "fs_defensive_systems_ct", operator = "lte", value = 3 }
trigger = { type = "any_of", conditions = [
  { type = "combat_start" },
  { type = "phase_ended", phase_id = "fs_shield" },
] }

[[boss.phases]]
id = "fs_shield"
name = "Defensive Systems"
trigger = { type = "effect_applied", effects = [
  2816089796902912,
  2876958073421824,
  2876962368389120,
  2876717555253248,
] }
end_trigger = { type = "effect_removed", effects = [
  2816089796902912,
  2876958073421824,
  2876962368389120,
  2876717555253248,
] }

[[boss.phases]]
id = "fs_burn"
name = "Burn"
counter_condition = { counter_id = "fs_defensive_systems_ct", operator = "eq", value = 4 }
trigger = { type = "phase_ended", phase_id = "fs_shield" }

# -- Challenges --
[[boss.challenge]]
id = "fs_shield_dps"
name = "Shield DPS"
metric = "damage"
conditions = [{ type = "target", match = { selector = [2876425497477120] } }]
color = [100, 210, 237, 255]

# -- Combat Start Timers (initial cooldowns) --
[[boss.timer]]
id = "fs_firebrand_cleave_cs"
name = "Firebrand Cleave"
trigger = { type = "combat_start" }
duration_secs = 10
color = [224, 34, 29, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_storm_cleave_cs"
name = "Storm Cleave"
trigger = { type = "combat_start" }
duration_secs = 5
color = [117, 33, 224, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_targeted_missile_cs"
name = "Targeted Missile"
trigger = { type = "combat_start" }
duration_secs = 15
color = [224, 24, 164, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_incinerate_armor_cs"
name = "Incinerate Armor"
trigger = { type = "combat_start" }
duration_secs = 22
color = [219, 94, 32, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_double_destruction_cs"
name = "Double Destruction"
trigger = { type = "combat_start" }
duration_secs = 15
color = [23, 197, 209, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_void_zone_cs"
name = "Void Zone"
trigger = { type = "combat_start" }
duration_secs = 10
color = [24, 92, 224, 255]
difficulties = ["veteran", "master"]

# -- Ability Timers (refresh on cast) --
[[boss.timer]]
id = "fs_mortar_volley"
name = "Mortar Volley"
trigger = { type = "ability_cast", abilities = [2815793444159488] }
duration_secs = 25
color = [219, 28, 29, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_firebrand_cleave"
name = "Firebrand Cleave"
trigger = { type = "ability_cast", abilities = [2876653130743808] }
duration_secs = 10
color = [224, 25, 24, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_storm_cleave"
name = "Storm Cleave"
trigger = { type = "ability_cast", abilities = [2876687490482176] }
duration_secs = 10
color = [117, 33, 224, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_targeted_missile"
name = "Targeted Missile"
trigger = { type = "ability_cast", abilities = [2876648835776512] }
duration_secs = 16
color = [224, 24, 164, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "fs_incinerate_armor"
name = "Incinerate Armor"
trigger = { type = "ability_cast", abilities = [2876661720678400] }
duration_secs = 46
color = [219, 94, 32, 255]
difficulties = ["master"]

[[boss.timer]]
id = "fs_incinerate_armor_vm"
name = "Incinerate Armor"
trigger = { type = "ability_cast", abilities = [2876661720678400] }
duration_secs = 49
color = [219, 94, 32, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "fs_double_destruction"
name = "Double Destruction"
trigger = { type = "ability_cast", abilities = [2876691785449472] }
duration_secs = 20
color = [23, 197, 209, 255]
difficulties = ["master"]

[[boss.timer]]
id = "fs_double_destruction_vm"
name = "Double Destruction"
trigger = { type = "ability_cast", abilities = [2876691785449472] }
duration_secs = 30
color = [23, 197, 209, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "fs_void_zone"
name = "Void Zone"
trigger = { type = "ability_cast", abilities = [2876713260285952] }
duration_secs = 15
color = [24, 92, 224, 255]
difficulties = ["veteran", "master"]

# -- Alerts --
# ═══════════════════════════════════════════════════════════════════════════════
# Colonel Vorgath
# ═══════════════════════════════════════════════════════════════════════════════
[[boss]]
id = "colonel_vorgath"
name = "Colonel Vorgath"
difficulties = ["veteran", "master"]

[[boss.entities]]
name = "Colonel Vorgath"
ids = [2854224811524096, 2854117437341696, 2854229106491392, 2786080860405760]
is_boss = true
is_kill_target = true

[[boss.entities]]
name = "Vorgath Hologram"
ids = [2813182104043520]
is_boss = false
triggers_encounter = true
is_kill_target = false

[[boss.entities]]
name = "Imperial Demolitions Probe"
ids = [2854160387014656, 2854156092047360, 2783478110224384, 2854151797080064]
is_boss = false

[[boss.phases]]
id = "cv_main"
name = "Minefield"
trigger = { type = "combat_start" }

[[boss.phases]]
id = "cv_vorgath"
name = "Vorgath"
trigger = { type = "boss_hp_below", hp_percent = 99.9, selector = [
  "Colonel Vorgath",
] }

# -- Timers --
[[boss.timer]]
id = "cv_threat_drop"
name = "Threat Drop"
trigger = { type = "ability_cast", abilities = [2919121767366656] }
duration_secs = 20
color = [39, 209, 208, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "cv_knockback"
name = "Knockback"
trigger = { type = "ability_cast", abilities = [2853275623751680] }
duration_secs = 15
color = [224, 108, 24, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "cv_grenade"
name = "Grenade"
trigger = { type = "ability_cast", abilities = [2853344343228416] }
duration_secs = 15
color = [214, 37, 32, 255]
difficulties = ["veteran", "master"]

# -- HP Threshold Alerts --
[[boss.timer]]
id = "cv_hp_95"
name = "Threat Drop"
is_alert = true
trigger = { type = "boss_hp_below", hp_percent = 95.0, selector = [
  "Colonel Vorgath",
] }
alert_text = "Threat Drop"
color = [39, 209, 208, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "cv_hp_80"
name = "Turrets"
is_alert = true
trigger = { type = "boss_hp_below", hp_percent = 80.0, selector = [
  "Colonel Vorgath",
] }
alert_text = "Turrets"
color = [14, 128, 22, 255]
difficulties = ["veteran", "master"]

# ═══════════════════════════════════════════════════════════════════════════════
# Warlord Kephess
# ═══════════════════════════════════════════════════════════════════════════════
[[boss]]
id = "warlord_kephess"
name = "Warlord Kephess"
difficulties = ["veteran", "master"]

[[boss.entities]]
name = "Warlord Kephess"
ids = [
  2876550051528704,
  3618127694790656,
  2876528576692224,
  2876588706234368,
  2800357331697664,
  2749629472964608,
]
is_boss = true
is_kill_target = true

[[boss.entities]]
name = "Warstrider Battlewalker"
ids = [2876562936430592, 2794185463693312, 2876532871659520, 2876593001201664]
is_boss = true
is_kill_target = true

[[boss.entities]]
name = "Baradium Bomber"
ids = [2876524281724928, 2876558641463296, 2792969987948544, 2876584411267072]
is_boss = false

[[boss.counters]]
id = "walker_burns"
name = "Walker Burns"
increment_on = { type = "phase_ended", phase_id = "walker_burn" }
reset_on = { type = "combat_end" }
initial_value = 0

[[boss.phases]]
id = "wk_droids"
name = "Siege Droids"
trigger = { type = "combat_start" }

[[boss.phases]]
id = "walker_burn"
name = "Walker Burn"
trigger = { type = "effect_removed", effects = [2815376832331776] }
end_trigger = { type = "any_of", conditions = [
  { type = "entity_death", selector = [
    "Warstrider Battlewalker",
  ] },
  { type = "effect_applied", effects = [
    2815376832331776,
  ] },
] }

[[boss.phases]]
id = "wk_trandos"
name = "Trandoshans"
counter_condition = { counter_id = "walker_burns", operator = "eq", value = 1 }
trigger = { type = "phase_ended", phase_id = "walker_burn" }
end_trigger = { type = "entity_death", name = "Baradium Bomber" }

[[boss.phases]]
id = "wk_pulsar"
name = "Pulsar Droids"
counter_condition = { counter_id = "walker_burns", operator = "eq", value = 2 }
trigger = { type = "phase_ended", phase_id = "walker_burn" }
end_trigger = { type = "entity_death", name = "Baradium Bomber" }

[[boss.phases]]
id = "wk_kephess"
name = "Kephess"
counter_condition = { counter_id = "walker_burns", operator = "gte", value = 3 }
trigger = { type = "phase_ended", phase_id = "walker_burn" }
end_trigger = { type = "effect_removed", effects = [2815376832331776] }

[[boss.phases]]
id = "wk_kephess_burn"
name = "Kephess Burn"
trigger = { type = "boss_hp_below", hp_percent = 59.0, selector = [
  "Warlord Kephess",
] }

# -- Timers --
[[boss.timer]]
id = "wk_mighty_leap"
name = "Mighty Leap"
trigger = { type = "ability_cast", abilities = [2877069742571520] }
duration_secs = 40
color = [214, 37, 32, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "wk_savage_slash"
name = "Savage Slash"
trigger = { type = "ability_cast", abilities = [2877048267735040] }
duration_secs = 18
color = [219, 28, 29, 255]
difficulties = ["veteran", "master"]

[[boss.timer]]
id = "wk_breath_pull"
name = "Breath Pull"
trigger = { type = "effect_applied", effects = [2877078332506112] }
duration_secs = 6
color = [224, 168, 33, 255]
difficulties = ["master"]

[[boss.timer]]
id = "wk_baradium_countdown"
name = "Bomber Coutdown"
trigger = { type = "npc_appears", selector = ["Baradium Bomber"] }
cancel_trigger = { type = "entity_death", selector = ["Baradium Bomber"] }
duration_secs = 20.0
difficulties = ["veteran", "master"]

[[boss.challenge]]
id = "wk_ch_walker_burn"
name = "Walker Burn Damage"
metric = "damage"

[[boss.challenge.conditions]]
type = "phase"
phase_ids = ["walker_burn"]

[[boss.challenge.conditions]]
type = "target"
match = { selector = ["Warstrider Battlewalker"] }
