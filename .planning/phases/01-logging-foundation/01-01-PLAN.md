---
phase: 01-logging-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Cargo.toml
  - app/src-tauri/Cargo.toml
  - core/Cargo.toml
  - overlay/Cargo.toml
  - parse-worker/Cargo.toml
autonomous: true

must_haves:
  truths:
    - "tracing and tracing-subscriber are declared as workspace dependencies"
    - "app/src-tauri has tracing + tracing-subscriber as dependencies"
    - "core has tracing as a dependency"
    - "overlay has tracing as a dependency"
    - "parse-worker has tracing + tracing-subscriber as dependencies"
  artifacts:
    - path: "Cargo.toml"
      provides: "Workspace dependency declarations"
      contains: "[workspace.dependencies]"
    - path: "app/src-tauri/Cargo.toml"
      provides: "App crate dependencies"
      contains: "tracing-subscriber"
    - path: "core/Cargo.toml"
      provides: "Core crate dependency"
      contains: "tracing"
    - path: "overlay/Cargo.toml"
      provides: "Overlay crate dependency"
      contains: "tracing"
    - path: "parse-worker/Cargo.toml"
      provides: "Parse-worker crate dependencies"
      contains: "tracing-subscriber"
  key_links:
    - from: "app/src-tauri/Cargo.toml"
      to: "Cargo.toml"
      via: "workspace = true reference"
      pattern: "tracing.*workspace.*true"
---

<objective>
Add tracing dependencies to workspace and all relevant crates.

Purpose: Establish the dependency foundation so tracing macros can be used throughout the codebase.
Output: Updated Cargo.toml files with tracing dependencies properly declared.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-logging-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add workspace dependencies for tracing</name>
  <files>Cargo.toml</files>
  <action>
Add workspace dependency declarations at the end of the root Cargo.toml:

```toml
[workspace.dependencies]
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
```

The `env-filter` feature is required for RUST_LOG environment variable support (EnvFilter).
  </action>
  <verify>Run `cargo check -p baras-core` - should compile (won't use tracing yet, just validates workspace)</verify>
  <done>Workspace Cargo.toml contains [workspace.dependencies] section with tracing and tracing-subscriber</done>
</task>

<task type="auto">
  <name>Task 2: Add tracing dependencies to crates</name>
  <files>
    app/src-tauri/Cargo.toml
    core/Cargo.toml
    overlay/Cargo.toml
    parse-worker/Cargo.toml
  </files>
  <action>
Add tracing dependency to each crate's [dependencies] section using workspace inheritance:

**app/src-tauri/Cargo.toml** - Add both (binary crate, initializes subscriber):
```toml
tracing = { workspace = true }
tracing-subscriber = { workspace = true }
```

**core/Cargo.toml** - Add tracing only (library crate, uses macros):
```toml
tracing = { workspace = true }
```

**overlay/Cargo.toml** - Add tracing only (library crate, uses macros):
```toml
tracing = { workspace = true }
```

**parse-worker/Cargo.toml** - Add both (separate binary process, needs own subscriber):
```toml
tracing = { workspace = true }
tracing-subscriber = { workspace = true }
```

Do NOT add tracing to types crate - it has no logging needs.
  </action>
  <verify>Run `cargo check --workspace` - all crates should compile successfully</verify>
  <done>All four crates have tracing dependencies, cargo check passes</done>
</task>

</tasks>

<verification>
1. `cargo check --workspace` passes with no errors
2. `grep -r "tracing" */Cargo.toml Cargo.toml` shows dependencies in expected files
3. No changes to any .rs files (dependencies only)
</verification>

<success_criteria>
- Workspace Cargo.toml has [workspace.dependencies] with tracing 0.1 and tracing-subscriber 0.3
- app/src-tauri/Cargo.toml has both tracing and tracing-subscriber
- core/Cargo.toml has tracing
- overlay/Cargo.toml has tracing
- parse-worker/Cargo.toml has both tracing and tracing-subscriber
- `cargo check --workspace` succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/01-logging-foundation/01-01-SUMMARY.md`
</output>
